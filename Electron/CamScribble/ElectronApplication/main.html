<!DOCTYPE html>
<html>
<head>
</head>
<body>
  <canvas id="canvas"></canvas>

  <script>
    //const remote = require('electron').remote;
    //const camScribble = remote.getGlobal('camScribble');
    const GlCanvasForDummies = require('./GlCanvasForDummies');
    const CamScribble = require('cam_scribble').CamScribble;

    var camScribble = new CamScribble([800,800],[0,0,0]);

    camScribble.setCamera(0);

    var can = document.getElementById('canvas');

    var glCan = new GlCanvasForDummies(can,800,800);

    var buf = camScribble.getNewCameraFrame();

    function renderLoop() {
      buf = camScribble.getCameraFrame(buf);
      glCan.renderImage(buf,640,480);


      setTimeout(
        function() {
          requestAnimationFrame(renderLoop)
        },1000/15);
    }

    renderLoop();

  </script>
</body>
</html>
